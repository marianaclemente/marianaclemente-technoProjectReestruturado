{"remainingRequest":"/Users/marianaclemente/Repositórios/technoProjectReestruturado/node_modules/babel-loader/lib/index.js!/Users/marianaclemente/Repositórios/technoProjectReestruturado/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/marianaclemente/Repositórios/technoProjectReestruturado/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/marianaclemente/Repositórios/technoProjectReestruturado/src/views/Produto.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/marianaclemente/Repositórios/technoProjectReestruturado/src/views/Produto.vue","mtime":1608543966668},{"path":"/Users/marianaclemente/Repositórios/technoProjectReestruturado/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marianaclemente/Repositórios/technoProjectReestruturado/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/marianaclemente/Repositórios/technoProjectReestruturado/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marianaclemente/Repositórios/technoProjectReestruturado/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXBpIH0gZnJvbSAiQC9zZXJ2aWNlcy5qcyI7IC8vIGltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCcKLy9pbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2R1dG9zIiwKICBwcm9wczogWyJpZCJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gey8vcHJvZHV0bzogW10sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hQcm9kdXRvOiBmdW5jdGlvbiBmZXRjaFByb2R1dG8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBhcGkuZ2V0KCIvcHJvZHV0b3MvIi5jb25jYXQodGhpcy5pZCkpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUucHJvZHV0byA9IHIuZGF0YTsKICAgICAgfSk7CiAgICAgIC8qdGhpcy5wcm9kdXRvID0gZGFkb3MKICAgICAgY29uc29sZS5sb2codGhpcy5wcm9kdXRvLCBpZCkKICAgICAgYXhpb3MuZ2V0KGBAL2FwaS9wcm9kdXRvcy8ke2lkfS9kYWRvcy5qc29uYCkKICAgICAgICAgIC50aGVuKHIgPT4gewogICAgICAgICAgICAgIHRoaXMucHJvZHV0byA9IHIuZGF0YTsKICAgICAgICAgIH0pKi8KICAgIH0sCiAgICBmZWNoYXJNb2RhbDogZnVuY3Rpb24gZmVjaGFyTW9kYWwoX3JlZikgewogICAgICB2YXIgdGFyZ2V0ID0gX3JlZi50YXJnZXQsCiAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gX3JlZi5jdXJyZW50VGFyZ2V0OwoKICAgICAgaWYgKHRhcmdldCA9PT0gY3VycmVudFRhcmdldCkgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnByb2R1dG8gPSBmYWxzZTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiSG9tZSIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNlbVByb2R1dG86IGZ1bmN0aW9uIHNlbVByb2R1dG8oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiSG9tZSIKICAgICAgfSk7CiAgICB9LAogICAgYWRpY2lvbmFySXRlbTogZnVuY3Rpb24gYWRpY2lvbmFySXRlbSgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucHJvZHV0by5lc3RvcXVlLS07CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnByb2R1dG8uZXN0b3F1ZS0tKTsKICAgICAgdmFyIF90aGlzJCRzdG9yZSRzdGF0ZSRwciA9IHRoaXMuJHN0b3JlLnN0YXRlLnByb2R1dG8sCiAgICAgICAgICBpZCA9IF90aGlzJCRzdG9yZSRzdGF0ZSRwci5pZCwKICAgICAgICAgIG5vbWUgPSBfdGhpcyQkc3RvcmUkc3RhdGUkcHIubm9tZSwKICAgICAgICAgIHByZWNvID0gX3RoaXMkJHN0b3JlJHN0YXRlJHByLnByZWNvOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJyaW5oby5wdXNoKHsKICAgICAgICBpZDogaWQsCiAgICAgICAgbm9tZTogbm9tZSwKICAgICAgICBwcmVjbzogcHJlY28KICAgICAgfSk7CiAgICAgIHRoaXMuYWxlcnRhKCIiLmNvbmNhdChub21lLCAiIGFkaWNpb25hZG8gYW8gY2FycmluaG8uIikpOwogICAgfSwKICAgIGFsZXJ0YTogZnVuY3Rpb24gYWxlcnRhKG1lbnNhZ2VtKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubWVuc2FnZW1BbGVydGEgPSBtZW5zYWdlbTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnRhQXRpdm8gPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHN0b3JlLnN0YXRlLmFsZXJ0YUF0aXZvID0gZmFsc2U7CiAgICAgIH0sIDE1MDApOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hQcm9kdXRvKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/marianaclemente/Repositórios/technoProjectReestruturado/src/views/Produto.vue"],"names":[],"mappings":"AA6BA,SAAS,GAAT,QAAoB,eAApB,C,CACA;AACA;;AACA,eAAe;AACX,EAAA,IAAI,EAAE,UADK;AAEX,EAAA,KAAK,EAAE,CAAC,IAAD,CAFI;AAGX,EAAA,IAHW,kBAGJ;AACH,WAAO,CACH;AADG,KAAP;AAGH,GAPU;AAQX,EAAA,OAAO,EAAE;AACL,IAAA,YADK,0BACU;AAAA;;AACX,MAAA,GAAG,CAAC,GAAJ,qBAAqB,KAAK,EAA1B,GACK,IADL,CACU,UAAA,CAAA,EAAK;AACP,QAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,OAAlB,GAA4B,CAAC,CAAC,IAA9B;AACH,OAHL;AAIA;AACA;AACA;AACI;AACI;AACJ;AACP,KAZI;AAaL,IAAA,WAbK,6BAakC;AAAA,UAAzB,MAAyB,QAAzB,MAAyB;AAAA,UAAjB,aAAiB,QAAjB,aAAiB;;AACnC,UAAI,MAAK,KAAM,aAAf,EAA8B;AAC1B,aAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,GAA4B,KAA5B;AACA,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACJ;AAGH,KApBI;AAqBL,IAAA,UArBK,wBAqBO;AACT,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,QAAA,IAAI,EAAE;AAAR,OAAlB;AACF,KAvBI;AAwBL,IAAA,aAxBK,2BAwBW;AACZ,WAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,OAA1B;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,OAA1B,EAAZ;AAFY,kCAGgB,KAAK,MAAL,CAAY,KAAZ,CAAkB,OAHlC;AAAA,UAGJ,EAHI,yBAGJ,EAHI;AAAA,UAGA,IAHA,yBAGA,IAHA;AAAA,UAGM,KAHN,yBAGM,KAHN;AAIZ,WAAK,MAAL,CAAY,KAAZ,CAAkB,QAAlB,CAA2B,IAA3B,CAAgC;AAAE,QAAA,EAAE,EAAF,EAAF;AAAM,QAAA,IAAI,EAAJ,IAAN;AAAY,QAAA,KAAI,EAAJ;AAAZ,OAAhC;AACA,WAAK,MAAL,WAAe,IAAf;AACH,KA9BI;AA+BJ,IAAA,MA/BI,kBA+BG,QA/BH,EA+Ba;AAAA;;AACd,WAAK,MAAL,CAAY,KAAZ,CAAkB,cAAlB,GAAmC,QAAnC;AACA,WAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,GAAgC,IAAhC;AACA,MAAA,UAAU,CAAC,YAAM;AACb,QAAA,MAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,WAAlB,GAAgC,KAAhC;AACH,OAFS,EAEP,IAFO,CAAV;AAGH;AArCI,GARE;AA+CX,EAAA,OA/CW,qBA+CD;AACV,SAAK,YAAL;AACF;AAjDa,CAAf","sourcesContent":["<template>\n    <section class=\"modal\" v-if=\"$store.state.produto\" @click=\"fecharModal\">\n        <div class=\"modal_container\">\n            <div class=\"modal_img\">\n                <img :src=\"$store.state.produto.img\" :alt=\"$store.state.produto.nome\">\n            </div>\n            <div class=\"modal_dados\">\n                <button v-if=\"$store.state.produto\" @click=\"semProduto\" class=\"modal_fechar\">X</button>\n                <span class=\"nodal_preco\">{{$store.state.produto.preco}}</span>\n                <h2 class=\"modal_titulo\">{{$store.state.produto.nome}}</h2>\n                <p>{{$store.state.produto.descricao}}</p>\n                <button v-if=\"$store.state.produto.estoque > 0\" class=\"modal_btn\" \n                    @click=\"adicionarItem\">Adicionar Item</button>\n                <button v-else class=\"modal_btn esgotado\" disabled>Produto Esgotado</button>\n            </div>\n            <div class=\"avaliacoes\">\n                <h2 class=\"avaliacoes_subtitulo\">Avaliações</h2>\n                <ul>\n                    <li v-for=\"(avaliacao, index) in $store.state.produto.reviews\" class=\"avaliacao\" :key=\"index\">\n                        <p class=\"avaliacao_descricao\">{{avaliacao.descricao}}</p>\n                        <p class=\"avaliacao_usuario\">{{avaliacao.nome}} | {{avaliacao.estrelas}} estrelas</p>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\nimport { api } from \"@/services.js\";\n// import * as path from 'path'\n//import axios from \"axios\"\nexport default {\n    name: \"Produtos\",\n    props: [\"id\"],\n    data() {\n        return {\n            //produto: [],\n        }\n    },\n    methods: {\n        fetchProduto() {\n            api.get(`/produtos/${this.id}`)\n                .then(r => {\n                    this.$store.state.produto = r.data;\n                })\n            /*this.produto = dados\n            console.log(this.produto, id)\n            axios.get(`@/api/produtos/${id}/dados.json`)\n                .then(r => {\n                    this.produto = r.data;\n                })*/\n        },\n        fecharModal({ target, currentTarget }) {\n            if (target === currentTarget) {\n                this.$store.state.produto = false\n                this.$router.push({ name: \"Home\" });\n            }\n                \n\n        },\n        semProduto(){\n           this.$router.push({ name: \"Home\" });\n        },\n        adicionarItem() {\n            this.$store.state.produto.estoque--;\n            console.log(this.$store.state.produto.estoque--)\n            const { id, nome, preco } = this.$store.state.produto;\n            this.$store.state.carrinho.push({ id, nome, preco });\n            this.alerta(`${nome} adicionado ao carrinho.`);\n        },\n         alerta(mensagem) {\n            this.$store.state.mensagemAlerta = mensagem;\n            this.$store.state.alertaAtivo = true;\n            setTimeout(() => {\n                this.$store.state.alertaAtivo = false;\n            }, 1500);\n        },\n    },\n    created() {\n    this.fetchProduto();\n  }\n}\n</script>\n\n<style scoped>\n    /* MODAL */\n\n.modal::before{\n    content: \"\";\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100vh;\n    background: rgba(0, 0, 0, .5);\n}\n\n.modal{\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    align-items: center;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    padding: 80px;\n}\n\n.modal_container{\n    position: relative;\n    background: linear-gradient(to right, transparent 250px, white 250px);\n    z-index: 1;\n    display: grid;\n    align-items: end;\n    grid-gap: 50px;\n    padding: 50px 50px 50px 0;\n    animation: fadeIn .3s forwards;\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translate3d(50px, 0, 0);\n    }\n    to {\n        opacity: 1;\n        transform: translate3d(0px, 0, 0);\n    }\n}\n\n.modal_fechar {\n    border-radius: 50%;\n    border: 2px solid #000;\n    width: 40px;\n    height: 40px;\n    position: absolute;\n    top: 10px;\n    right: -10px;\n    font-size: 1rem;\n    box-shadow: 0px 3px 4px rgba(0, 0, 0, .1), 0px 4px 10px rgba(0, 0, 0, .2);\n    cursor: pointer;\n}\n\n.modal_img {\n    grid-column: 1;\n    margin-top: 50px;\n    box-shadow: 0px 3px 4px rgba(0, 0, 0, .1), 0px 4px 10px rgba(0, 0, 0, .2);\n}\n\n.modal_img img {\n    max-width: 300px;\n    display: block;\n}\n\n.modal_dados {\n    grid-column: 2;\n    max-width: 600px;\n}\n\n.modal_titulo {\n    font-size: 3rem;\n}\n\n.modal_btn {\n    margin-top: 80px;\n    background: #000;\n    cursor: pointer;\n    color: #ffffff;\n    border: none;\n    font-size: 1rem;\n    padding: 10px 25px;\n    font-family: \"Noto Serif\";\n}\n\n.modal_btn.esgotado {\n    background: #808080;\n}\n\n.modal_btn:active {\n    background: #808080;\n}\n\n/* AVALIACOES */\n.avaliacoes {\n    grid-column: 2;\n}\n\n.avaliacao {\n    border-bottom: 1px solid rgba(0, 0, 0, .1);\n    padding-bottom: 20px;\n}\n\n.avaliacoes_subtitulo {\n    font-size: 1.75rem;\n}\n\n.avaliacao_descricao {\n    color: rgba(0, 0, 0, .7);\n    margin: 10px 0 5px 0;\n}\n\n.avaliacao_usuario {\n    font-weight: bold;\n}\n\n</style>"],"sourceRoot":""}]}